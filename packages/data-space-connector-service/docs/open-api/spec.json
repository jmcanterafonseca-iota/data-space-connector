{
	"openapi": "3.1.0",
	"info": {
		"title": "TWIN - Test Endpoints",
		"description": "REST API for TWIN - Test Endpoints.",
		"version": "1.0.0",
		"license": {
			"name": "Apache 2.0 License",
			"url": "https://opensource.org/licenses/Apache-2.0"
		}
	},
	"servers": [
		{
			"url": "https://localhost"
		}
	],
	"tags": [
		{
			"name": "Data Space Connector",
			"description": "Endpoints to access a Data Space Connector."
		}
	],
	"paths": {
		"/data-space-connector/notify": {
			"post": {
				"operationId": "activityStreamNotify",
				"summary": "Notify of a new Activity",
				"tags": [
					"Data Space Connector"
				],
				"security": [
					{
						"jwtBearerAuthScheme": []
					}
				],
				"requestBody": {
					"description": "Activity Stream Request.",
					"required": true,
					"content": {
						"application/ld+json": {
							"schema": {
								"$ref": "#/components/schemas/Activity"
							},
							"examples": {
								"activityStreamExample": {
									"value": {
										"@context": "https://www.w3.org/ns/activitystreams",
										"@type": "Add",
										"actor": {
											"id": "did:iota:testnet:0x123456"
										},
										"object": {
											"@context": "https://vocabulary.uncefact.org",
											"@type": "Consignment",
											"globalId": "24KEP051219453I002610796"
										},
										"updated": "2025-06-02T18:31:45.371Z"
									}
								}
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "The rest request ended in created response."
					},
					"400": {
						"description": "The server cannot process the request, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "GeneralError",
											"message": "component.error",
											"properties": {
												"foo": "bar"
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "You are not authorized to use the API or no credentials were supplied, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "UnauthorizedError",
											"message": "component.error"
										}
									}
								}
							}
						}
					},
					"422": {
						"description": "The server cannot process the request, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "UnprocessableError",
											"message": "component.error"
										}
									}
								}
							}
						}
					},
					"500": {
						"description": "The server has encountered a situation it does not know how to handle, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "InternalServerError",
											"message": "component.error"
										}
									}
								}
							}
						}
					}
				}
			}
		},
		"/data-space-connector/activity-logs/{id}": {
			"get": {
				"operationId": "dataSpaceConnectorGetActivityLogEntry",
				"summary": "Get a Activity Log Entry",
				"tags": [
					"Data Space Connector"
				],
				"parameters": [
					{
						"name": "id",
						"description": "The ID of the entry to get.",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						},
						"style": "simple",
						"example": "urn:x-activity-log:1234567"
					}
				],
				"security": [
					{
						"jwtBearerAuthScheme": []
					}
				],
				"responses": {
					"200": {
						"description": "Service Offering response",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ActivityLogEntry"
								},
								"examples": {
									"activityLogEntryResponseExample": {
										"value": {
											"id": "urn:x-activity-log:134567",
											"dateCreated": "2025-06-02T18:31:45.371Z",
											"dateUpdated": "2025-06-02T18:31:45.371Z",
											"generator": "did:iota:testnet:123456",
											"status": "pending"
										}
									}
								}
							}
						}
					},
					"400": {
						"description": "The server cannot process the request, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "GeneralError",
											"message": "component.error",
											"properties": {
												"foo": "bar"
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "You are not authorized to use the API or no credentials were supplied, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "UnauthorizedError",
											"message": "component.error"
										}
									}
								}
							}
						}
					},
					"500": {
						"description": "The server has encountered a situation it does not know how to handle, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "InternalServerError",
											"message": "component.error"
										}
									}
								}
							}
						}
					}
				}
			}
		},
		"/data-space-connector/subscriptions": {
			"post": {
				"operationId": "subscriptionCreate",
				"summary": "Create a new Subscription",
				"tags": [
					"Data Space Connector"
				],
				"security": [
					{
						"jwtBearerAuthScheme": []
					}
				],
				"requestBody": {
					"description": "Subscription Creation Request.",
					"required": true,
					"content": {
						"application/ld+json": {
							"schema": {
								"$ref": "#/components/schemas/Subscription"
							},
							"examples": {
								"subscriptionExample": {
									"value": {
										"@context": "https://example.org"
									}
								}
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "The rest request ended in created response."
					},
					"400": {
						"description": "The server cannot process the request, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "GeneralError",
											"message": "component.error",
											"properties": {
												"foo": "bar"
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "You are not authorized to use the API or no credentials were supplied, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "UnauthorizedError",
											"message": "component.error"
										}
									}
								}
							}
						}
					},
					"422": {
						"description": "The server cannot process the request, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "UnprocessableError",
											"message": "component.error"
										}
									}
								}
							}
						}
					},
					"500": {
						"description": "The server has encountered a situation it does not know how to handle, see the content for more details.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								},
								"examples": {
									"exampleResponse": {
										"value": {
											"name": "InternalServerError",
											"message": "component.error"
										}
									}
								}
							}
						}
					}
				}
			}
		}
	},
	"components": {
		"schemas": {
			"Activity": {
				"anyOf": [
					{
						"type": "object",
						"additionalProperties": false,
						"properties": {
							"@context": {
								"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionRoot"
							},
							"type": {
								"$ref": "#/components/schemas/ActivityTypeJsonLd"
							},
							"@type": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									}
								]
							},
							"generator": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									}
								],
								"description": "The generator of the Activity."
							},
							"actor": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									}
								],
								"description": "The Actor behind the Activity."
							},
							"object": {
								"type": "object",
								"properties": {
									"@context": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionRoot"
									},
									"@id": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@included": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdIncludedBlock"
									},
									"@graph": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
												}
											}
										]
									},
									"@nest": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
												}
											}
										]
									},
									"@type": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@reverse": {
										"type": "object",
										"additionalProperties": {
											"type": "string"
										}
									},
									"@index": {
										"type": "string"
									}
								},
								"description": "The object affected by the Activity."
							},
							"target": {
								"type": "object",
								"properties": {
									"@context": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionRoot"
									},
									"@id": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@included": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdIncludedBlock"
									},
									"@graph": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
												}
											}
										]
									},
									"@nest": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
												}
											}
										]
									},
									"@type": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@reverse": {
										"type": "object",
										"additionalProperties": {
											"type": "string"
										}
									},
									"@index": {
										"type": "string"
									}
								},
								"description": "The target of the Activity."
							},
							"summary": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdLanguageMap"
									}
								],
								"description": "Summary of the Activity."
							},
							"result": {
								"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject",
								"description": "Result of the Activity."
							},
							"origin": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									}
								],
								"description": "Activity's origin."
							},
							"updated": {
								"type": "string",
								"description": "The date and time at which the object was updated."
							},
							"@id": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									}
								]
							},
							"@included": {
								"$ref": "https://schema.twindev.org/json-ld/JsonLdIncludedBlock"
							},
							"@graph": {
								"anyOf": [
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									},
									{
										"type": "array",
										"items": {
											"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
										}
									}
								]
							},
							"@nest": {
								"anyOf": [
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
									},
									{
										"type": "array",
										"items": {
											"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
										}
									}
								]
							},
							"@reverse": {
								"type": "object",
								"additionalProperties": {
									"type": "string"
								}
							},
							"@index": {
								"type": "string"
							}
						},
						"required": [
							"@context",
							"actor",
							"object",
							"type",
							"updated"
						]
					},
					{
						"type": "object",
						"additionalProperties": false,
						"properties": {
							"@context": {
								"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionRoot"
							},
							"@type": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									}
								]
							},
							"type": {
								"$ref": "#/components/schemas/ActivityTypeJsonLd"
							},
							"generator": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									}
								],
								"description": "The generator of the Activity."
							},
							"actor": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									}
								],
								"description": "The Actor behind the Activity."
							},
							"object": {
								"type": "object",
								"properties": {
									"@context": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionRoot"
									},
									"@id": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@included": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdIncludedBlock"
									},
									"@graph": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
												}
											}
										]
									},
									"@nest": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
												}
											}
										]
									},
									"@type": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@reverse": {
										"type": "object",
										"additionalProperties": {
											"type": "string"
										}
									},
									"@index": {
										"type": "string"
									}
								},
								"description": "The object affected by the Activity."
							},
							"target": {
								"type": "object",
								"properties": {
									"@context": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionRoot"
									},
									"@id": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@included": {
										"$ref": "https://schema.twindev.org/json-ld/JsonLdIncludedBlock"
									},
									"@graph": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
												}
											}
										]
									},
									"@nest": {
										"anyOf": [
											{
												"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
											},
											{
												"type": "array",
												"items": {
													"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
												}
											}
										]
									},
									"@type": {
										"anyOf": [
											{
												"type": "string"
											},
											{
												"type": "array",
												"items": {
													"type": "string"
												}
											}
										]
									},
									"@reverse": {
										"type": "object",
										"additionalProperties": {
											"type": "string"
										}
									},
									"@index": {
										"type": "string"
									}
								},
								"description": "The target of the Activity."
							},
							"summary": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdLanguageMap"
									}
								],
								"description": "Summary of the Activity."
							},
							"result": {
								"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject",
								"description": "Result of the Activity."
							},
							"origin": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									}
								],
								"description": "Activity's origin."
							},
							"updated": {
								"type": "string",
								"description": "The date and time at which the object was updated."
							},
							"@id": {
								"anyOf": [
									{
										"type": "string"
									},
									{
										"type": "array",
										"items": {
											"type": "string"
										}
									}
								]
							},
							"@included": {
								"$ref": "https://schema.twindev.org/json-ld/JsonLdIncludedBlock"
							},
							"@graph": {
								"anyOf": [
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
									},
									{
										"type": "array",
										"items": {
											"$ref": "https://schema.twindev.org/json-ld/JsonLdNodeObject"
										}
									}
								]
							},
							"@nest": {
								"anyOf": [
									{
										"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
									},
									{
										"type": "array",
										"items": {
											"$ref": "https://schema.twindev.org/json-ld/JsonLdJsonObject"
										}
									}
								]
							},
							"@reverse": {
								"type": "object",
								"additionalProperties": {
									"type": "string"
								}
							},
							"@index": {
								"type": "string"
							}
						},
						"required": [
							"@context",
							"actor",
							"object",
							"updated"
						]
					}
				],
				"description": "A W3C Activity from Activity Streams"
			},
			"ActivityLogEntry": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"description": "The Id of the Activity Log entry."
					},
					"activityId": {
						"type": "string",
						"description": "The activity Id that this entry refers to. This is obtained through a hash of the Activity itself."
					},
					"generator": {
						"type": "string",
						"description": "The identity of the Activity's generator."
					},
					"status": {
						"$ref": "#/components/schemas/ActivityProcessingStatus"
					},
					"dateCreated": {
						"type": "string",
						"description": "The creation date of this object."
					},
					"dateUpdated": {
						"type": "string",
						"description": "The last update date of this object."
					},
					"startTime": {
						"type": "string",
						"description": "Activity processing start time (filled if it has actually started)."
					},
					"endTime": {
						"type": "string",
						"description": "Activity's end time (filled if it has actually finished)."
					},
					"processingResult": {
						"description": "The result of processing the Activity."
					},
					"processingError": {
						"$ref": "#/components/schemas/Error"
					}
				},
				"required": [
					"id",
					"generator",
					"status",
					"dateCreated",
					"dateUpdated"
				],
				"additionalProperties": false,
				"description": "The details related to the processing of an Activity"
			},
			"ActivityProcessingStatus": {
				"type": "string",
				"enum": [
					"pending",
					"running",
					"completed",
					"failed",
					"error"
				],
				"description": "Activity processing statuses."
			},
			"ActivityType": {
				"type": "string",
				"enum": [
					"Activity",
					"Add",
					"Create",
					"Update",
					"Remove",
					"Delete"
				],
				"description": "Activity Type."
			},
			"ActivityTypeJsonLd": {
				"anyOf": [
					{
						"$ref": "#/components/schemas/ActivityType"
					},
					{
						"type": "array",
						"minItems": 1,
						"items": [
							{
								"$ref": "#/components/schemas/ActivityType"
							}
						],
						"additionalItems": {
							"type": "string"
						}
					},
					{
						"type": "array",
						"minItems": 1,
						"items": [
							{
								"$ref": "#/components/schemas/ActivityType"
							}
						],
						"additionalItems": {
							"type": "string"
						}
					}
				],
				"description": "Activity Type JSON-LD"
			},
			"Error": {
				"type": "object",
				"properties": {
					"name": {
						"type": "string"
					},
					"message": {
						"type": "string"
					},
					"stack": {
						"type": "string"
					}
				},
				"required": [
					"name",
					"message"
				],
				"additionalProperties": false
			},
			"Subscription": {
				"type": "object",
				"properties": {
					"@context": {
						"$ref": "https://schema.twindev.org/json-ld/JsonLdContextDefinitionElement"
					}
				},
				"required": [
					"@context"
				],
				"additionalProperties": false,
				"description": "A subscription."
			}
		},
		"securitySchemes": {
			"jwtBearerAuthScheme": {
				"type": "http",
				"scheme": "bearer",
				"bearerFormat": "JWT"
			}
		}
	}
}
